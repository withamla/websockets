{"ts":1357186408914,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var app = require('http').createServer(handler)\n, io = require('socket.io').listen(app)\n, fs = require('fs')\n\napp.listen(process.env.PORT || 8001);\n\nfunction handler (req, res) {\nfs.readFile('index.html',\nfunction (err, data) {\nif (err) {\nres.writeHead(500);\nreturn res.end('Error loading index.html');\n}\n\nres.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});\nres.end(data);\n});\n}\n\nio.sockets.on('connection', function (socket) {\n// echo the message\nsocket.on('message', function (data) {\nconsole.info(data);\nsocket.send(\"[ECHO] \"+data);\n});\n});"]],"start1":0,"start2":0,"length1":0,"length2":573}]],"length":573}
{"contributors":[],"silentsave":false,"ts":1357187973438,"patch":[[{"diffs":[[0,"re('"],[-1,"http"],[1,"express"],[0,"').c"]],"start1":15,"start2":15,"length1":12,"length2":15},{"diffs":[[0,"eServer("],[-1,"handler"],[0,")\n, io ="]],"start1":34,"start2":34,"length1":23,"length2":16},{"diffs":[[0,"app)"],[-1,"\n, fs = require('fs')\n\napp.listen("],[1,";\n\nvar port="],[0,"proc"]],"start1":79,"start2":79,"length1":42,"length2":20},{"diffs":[[0,"PORT"],[-1," "],[0,"||"],[-1," "],[0,"8001"],[-1,")"],[0,";\n"],[-1,"\nfunction handler (req, res) {\nfs.readFile('index.html',\n"],[1,"app.listen(port);\n\napp.get('/', "],[0,"func"]],"start1":107,"start2":107,"length1":76,"length2":48},{"diffs":[[0,"on ("],[-1,"err, data) {\nif (err) {\nres.writeHead(500);\nreturn res.end('Error loading index.html');\n}\n\nres.writeHead(200, {'Content-Type': 'text/html', \"Content-Length\": data.length});\nres.end(data);\n});\n}"],[1,"req, res) {\nres.sendfile(__dirname + '/index.html');\n});"],[0,"\n\nio"]],"start1":157,"start2":157,"length1":201,"length2":64}]],"length":382,"saved":false}
{"contributors":[],"silentsave":false,"ts":1357188099676,"patch":[[{"diffs":[[0,"var "],[-1,"app = "],[1,"express="],[0,"require("],[-1,"'"],[1,"\""],[0,"express"],[-1,"').createServer()\n,"],[1,"\");\nvar app = express();\nvar"],[0," io "]],"start1":0,"start2":0,"length1":49,"length2":60}]],"length":393,"saved":false}
